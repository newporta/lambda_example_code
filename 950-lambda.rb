def to_integer(num)
  num.(->(x) { x + 1}).(0)
end
puts to_integer(
  ->(z) {
    ->(f) {    ->(n){ f.(f).(n) }  }.(
    ->(f) { z.(->(n){ f.(f).(n) }  )})
  }.(
    ->(recursion) {
      ->(x) {
        ->(bool) { ->(a) { ->(b) { bool.(a).(b)  } } }.(
          ->(f) { f.(->(v) { ->(x) { ->(y) { y } } }).( ->(x) { ->(y) { x } } )  }.(x)).(
          ->(z) { ->(f) { ->(v) {    f.(v)  } }.(z) }
        ).(
          ->(z) {
            ->(a) { ->(b) { ->(f) {  a.(b.(f)) } } }.(x).(recursion.(->(n) {
              ->(f) { ->(x) { n.(->(g) { ->(h) { h.(g.(f)) } }).(->(y) { x }).(->(y){ y }) } }
            } .(x))).(z)
          }
        )
      }
    }
  ).(->(f) { ->(v) { f.(f.(f.(f.(f.(f.(f.(f.(v)))))))) } })

)

